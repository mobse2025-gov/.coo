<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gambia Teacher Directory — Full Demo</title>
<meta name="description" content="Single-file demo: all regions, districts, Primary/Junior/Senior schools, placeholder teacher profiles" />
<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --muted:#9aa4b2;
    --gold:#d4af37;
    --silver:#c0c6cc;
    --diamond:#bfe9ff;
    --glass:rgba(255,255,255,0.04);
    --radius:12px;
    --maxw:1400px;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    background:
      radial-gradient(1000px 360px at 8% 8%, rgba(212,175,55,0.06), transparent),
      radial-gradient(900px 280px at 92% 88%, rgba(191,233,255,0.03), transparent),
      var(--bg);
    color:#e6eef6;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:2rem 1rem;
  }
  .layout{max-width:var(--maxw);margin:0 auto;}
  header{display:flex;align-items:center;gap:1rem;justify-content:space-between;flex-wrap:wrap}
  .brand{display:flex;align-items:center;gap:1rem;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:.6rem 1rem;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
  .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--gold),#ffd27f 40%,var(--diamond));display:grid;place-items:center;color:#08101a;font-weight:800;font-size:20px}
  h1{margin:0;font-size:1.25rem;line-height:1;color:var(--gold)}
  .lead{color:var(--muted);font-size:.95rem}
  .controls{display:flex;gap:.6rem;margin-top:.75rem;align-items:center;flex-wrap:wrap}
  .search{flex:1;display:flex;align-items:center;background:var(--glass);padding:.45rem;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
  .search input{background:transparent;border:0;color:inherit;padding:.45rem .6rem;outline:none;font-size:0.95rem}
  .btn{background:linear-gradient(90deg,var(--gold),#ffd27f);color:#08101a;padding:.5rem .9rem;border-radius:10px;border:0;font-weight:700;cursor:pointer}
  main{display:grid;grid-template-columns:320px 1fr;gap:1rem;margin-top:1rem}
  aside{background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:1rem;border-radius:12px;border:1px solid rgba(255,255,255,0.03);min-height:68vh;overflow:auto}
  .region-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}
  .region-item{padding:.6rem;border-radius:10px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;border:1px solid transparent}
  .region-item:hover{background:rgba(255,255,255,0.02)}
  .region-item.active{background:linear-gradient(90deg,rgba(212,175,55,0.06),rgba(191,233,255,0.02));border-color:rgba(212,175,55,0.08)}
  .content{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:1rem;border-radius:12px;border:1px solid rgba(255,255,255,0.03);min-height:68vh;overflow:auto}
  .district{background:rgba(255,255,255,0.01);padding:.8rem;border-radius:12px;margin-bottom:1rem;border:1px solid rgba(255,255,255,0.02)}
  .district h3{margin:0;color:var(--gold);font-size:1rem}
  .schools-grid{display:flex;flex-direction:column;gap:.6rem;margin-top:.6rem}
  .school{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));padding:.6rem;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
  .school h4{margin:0 0 .45rem 0;font-size:0.95rem}
  .section-row{display:flex;gap:.6rem;flex-wrap:wrap}
  .section{flex:1;min-width:220px;background:rgba(255,255,255,0.01);padding:.5rem;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
  .section small{color:var(--muted);display:block;margin-bottom:.45rem}
  .teacher{display:flex;gap:.6rem;align-items:center;padding:.45rem;border-radius:10px;margin-bottom:.45rem;background:linear-gradient(90deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
  .avatar-wrap{width:56px;height:56px;border-radius:8px;overflow:hidden;display:grid;place-items:center;background:linear-gradient(180deg,var(--silver),rgba(255,255,255,0.06))}
  .avatar{display:block;width:48px;height:48px;border-radius:8px;object-fit:cover}
  .initials{font-weight:700;color:#08101a}
  .tinfo{flex:1}
  .tinfo b{display:block}
  .tmeta{font-size:.85rem;color:var(--muted);margin-top:.25rem}
  footer{margin-top:1rem;color:var(--muted);font-size:.9rem;text-align:center}
  select{background:var(--glass);border:1px solid rgba(255,255,255,0.03);color:inherit;padding:.5rem;border-radius:10px}
  @media (max-width:980px){main{grid-template-columns:1fr} .controls{flex-direction:column;align-items:stretch}}
</style>
</head>
<body>
  <div class="layout">
    <header>
      <div class="brand">
        <div class="logo">GM</div>
        <div>
          <h1>Gambia Teacher Directory</h1>
          <div class="lead">Regions → Districts → Schools → Teachers — demo data</div>
        </div>
      </div>
      <div style="display:flex;gap:.6rem;align-items:center">
        <button class="btn">Admin</button>
      </div>
    </header>

    <div class="controls">
      <div class="search"><svg width="18" height="18" viewBox="0 0 24 24" style="opacity:.85;margin-right:.4rem"><path d="M21 21l-4.35-4.35" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11.5" cy="11.5" r="5.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg><input id="searchInput" placeholder="Search teachers, schools, districts, regions" /></div>
      <select id="regionFilter"><option value="">All Regions</option></select>
      <select id="districtFilter"><option value="">All Districts</option></select>
      <select id="schoolFilter"><option value="">All Schools</option></select>
      <button class="btn" id="clearBtn">Clear</button>
    </div>

    <main>
      <aside>
        <h4 style="color:var(--gold);margin-bottom:.6rem">Regions</h4>
        <ul class="region-list" id="regionList"></ul>
      </aside>

      <section class="content" id="contentArea">
        <!-- Content injected here -->
      </section>
    </main>

    <footer>Demo — placeholder images, dummy TIN/ID; single-file GitHub-ready</footer>
  </div>

<script>
/*
  Generator logic:
  - Regions array contains region.name and region.districts[]
  - For each district:
     * create 5 Primary schools
     * create 4 Junior schools
     * create 5 Senior schools
  - Each school has 6 teachers (3 male, 3 female)
  - Teachers get placeholder image (via placeholder service), initials, name, TIN, ID, shift, experience
*/

// Gambian-like sample names (rotate)
const maleNames = [
  'Lamin Ceesay','Ebrima Jallow','Papa Bojang','Ousman Touray','Alieu Sanyang','Sainey Gomez',
  'Kebba Jatta','Musa Ceesay','Samba Faal','Pa Lamin Jammeh','Momodou Cham','Ebrima Colley'
];
const femaleNames = [
  'Fatou Ceesay','Aminata Bah','Isatou Jallow','Aja Kinteh','Binta Sanneh','Saffie Lowe',
  'Hawa Darboe','Mariama Sanyang','Salma Jallow','Kaddy Cham','Adama Sonko','Awa Jarju'
];

// Use the district lists we've referenced earlier in conversation (complete coverage)
const regions = [
  {
    name: 'Banjul',
    districts: ['Banjul Ward A','Banjul Ward B']
  },
  {
    name: 'Kanifing Municipality',
    districts: ['Serekunda East','Serekunda West','Brikama Road','Tallinding Kunjang','Latrikunda Sabiji']
  },
  {
    name: 'West Coast Region (Brikama)',
    districts: [
      'Kombo North','Kombo South','Kombo Central','Kombo East','Kombo Central II',
      'Foni Bintang-Karenai','Foni Brefet','Foni Jarrol','Foni Kansala'
    ]
  },
  {
    name: 'North Bank Region (Kerewan)',
    districts: ['Lower Niumi','Upper Niumi','Jokadu','Lower Baddibu','Central Baddibu','Upper Baddibu']
  },
  {
    name: 'Lower River Region (Mansa Konko)',
    districts: ['Kiang West','Kiang Central','Kiang East','Jarra West','Jarra Central','Jarra East']
  },
  {
    name: 'Central River Region (Janjanbureh)',
    districts: [
      'Janjanbureh','Niani','Nianija','Sami','Fulladu West',
      'Niamina East','Niamina West','Niamina Dankunku','Lower Saloum','Upper Saloum'
    ]
  },
  {
    name: 'Upper River Region (Basse)',
    districts: ['Fulladu East','Kantora','Sandu','Tumana','Wuli West','Wuli East','Jimara']
  }
];

// id generator for dummy TIN and ID numbers
let idCounter = 200000;
function genID(prefix){
  idCounter++;
  return `${prefix}-${String(idCounter).padStart(6,'0')}`;
}

// build the full dataset
const fullData = regions.map(region => {
  return {
    region: region.name,
    districts: region.districts.map(districtName => {
      // create school lists as required:
      const primary = Array.from({length:5},(_,i)=>({ level:'Primary', name:`${districtName} Primary School #${i+1}` }));
      const junior  = Array.from({length:4},(_,i)=>({ level:'Junior',  name:`${districtName} Junior School #${i+1}` }));
      const senior  = Array.from({length:5},(_,i)=>({ level:'Senior',  name:`${districtName} Senior School #${i+1}` }));
      const schools = [...primary, ...junior, ...senior];

      // assign teachers to each school
      const schoolsWithTeachers = schools.map((school, sIndex) => {
        const teachers = Array.from({length:6}, (_, tIndex) => {
          const gender = tIndex < 3 ? 'Male' : 'Female';
          const name = gender === 'Male'
            ? maleNames[(sIndex + tIndex) % maleNames.length]
            : femaleNames[(sIndex + tIndex) % femaleNames.length];

          const initials = name.split(' ').map(n => n[0]).slice(0,2).join('');
          // placeholder image service (can be loaded from internet) - using text=initials
          const photo = `https://via.placeholder.com/120/ffffff/08101a?text=${encodeURIComponent(initials)}`;

          return {
            name,
            initials,
            gender,
            tin: genID('TIN'),
            idNo: genID('GMBID'),
            shift: (tIndex % 2 === 0) ? 'Morning' : 'Afternoon',
            experience: 2 + ((sIndex + tIndex) % 10),
            photo
          };
        });

        return {
          ...school,
          teachers
        };
      });

      return {
        district: districtName,
        schools: schoolsWithTeachers
      };
    })
  };
});

// UI references
const regionListEl = document.getElementById('regionList');
const contentArea = document.getElementById('contentArea');
const searchInput = document.getElementById('searchInput');
const regionFilter = document.getElementById('regionFilter');
const districtFilter = document.getElementById('districtFilter');
const schoolFilter = document.getElementById('schoolFilter');
const clearBtn = document.getElementById('clearBtn');

// populate sidebar and region dropdown
fullData.forEach((r, regionIndex) => {
  // sidebar item
  const li = document.createElement('li');
  li.className = 'region-item';
  li.innerHTML = `<span>${r.region}</span><small style="color:var(--muted)">View</small>`;
  li.addEventListener('click', () => {
    selectRegion(regionIndex);
    regionFilter.value = r.region;
    populateDistricts(r);
  });
  regionListEl.appendChild(li);

  // dropdown option
  const opt = document.createElement('option');
  opt.value = r.region;
  opt.textContent = r.region;
  regionFilter.appendChild(opt);
});

// helper to populate district dropdown
function populateDistricts(regionObj){
  districtFilter.innerHTML = '<option value="">All Districts</option>';
  schoolFilter.innerHTML = '<option value="">All Schools</option>';
  regionObj.districts.forEach(d => {
    const opt = document.createElement('option');
    opt.value = d.district;
    opt.textContent = d.district;
    districtFilter.appendChild(opt);
  });
}

// helper to populate schools dropdown
function populateSchoolsFrom(regionName, districtName){
  schoolFilter.innerHTML = '<option value="">All Schools</option>';
  const region = fullData.find(r => r.region === regionName);
  if(!region) return;
  const district = region.districts.find(d => d.district === districtName);
  if(!district) return;
  district.schools.forEach(s => {
    const opt = document.createElement('option');
    opt.value = s.name;
    opt.textContent = s.name;
    schoolFilter.appendChild(opt);
  });
}

// select first region by default
function selectRegion(idx){
  [...regionListEl.children].forEach((c,i) => c.classList.toggle('active', i===idx));
  const regionObj = fullData[idx];
  renderRegion(regionObj);
  populateDistricts(regionObj);
  // clear smaller filters
  districtFilter.value = '';
  schoolFilter.value = '';
}

// render a region's content
function renderRegion(regionObj){
  contentArea.innerHTML = '';
  const title = document.createElement('div');
  title.innerHTML = `<h2 style="color:var(--gold);margin:0 0 .5rem 0">${regionObj.region}</h2><div style="color:var(--muted);margin-bottom:.6rem">Districts & sample schools</div>`;
  contentArea.appendChild(title);

  regionObj.districts.forEach(d => {
    const dEl = document.createElement('div');
    dEl.className = 'district';
    dEl.innerHTML = `<h3>📍 ${d.district}</h3>`;
    const grid = document.createElement('div');
    grid.className = 'schools-grid';

    d.schools.forEach(s => {
      const sEl = document.createElement('div');
      sEl.className = 'school';
      sEl.innerHTML = `<h4>${s.name} <small style="color:var(--muted)">(${s.level})</small></h4>`;

      const secRow = document.createElement('div');
      secRow.className = 'section-row';

      // For this demo we group each school's teachers in one "section" card for compactness
      const section = document.createElement('div');
      section.className = 'section';
      section.innerHTML = `<small>Teachers</small>`;
      s.teachers.forEach(t => {
        const tEl = document.createElement('div');
        tEl.className = 'teacher';
        tEl.innerHTML = `
          <div class="avatar-wrap"><img class="avatar" src="${t.photo}" alt="${t.initials}" onerror="this.style.display='none'; this.parentNode.innerHTML='<div class=\\'initials\\'>${t.initials}</div>'" /></div>
          <div class="tinfo">
            <b>${t.name}</b>
            <div class="tmeta">${t.gender} • ${t.shift} shift • ${t.experience} yrs</div>
            <div class="tmeta">TIN: ${t.tin} • ID: ${t.idNo}</div>
          </div>
        `;
        section.appendChild(tEl);
      });

      secRow.appendChild(section);
      sEl.appendChild(secRow);
      grid.appendChild(sEl);
    });

    dEl.appendChild(grid);
    contentArea.appendChild(dEl);
  });
}

// filter logic (search & dropdowns)
function filterAndRender(){
  const q = (searchInput.value || '').trim().toLowerCase();
  const regionVal = regionFilter.value;
  const districtVal = districtFilter.value;
  const schoolVal = schoolFilter.value;

  // Build filtered subset
  const filtered = fullData
    .filter(r => !regionVal || r.region === regionVal)
    .map(r => {
      const districts = r.districts
        .filter(d => !districtVal || d.district === districtVal)
        .map(d => {
          const schools = d.schools
            .filter(s => !schoolVal || s.name === schoolVal)
            .map(s => {
              const teachers = s.teachers.filter(t =>
                !q ||
                t.name.toLowerCase().includes(q) ||
                s.name.toLowerCase().includes(q) ||
                d.district.toLowerCase().includes(q) ||
                r.region.toLowerCase().includes(q)
              );
              return {...s, teachers};
            })
            .filter(s => s.teachers.length > 0);
          return {...d, schools};
        })
        .filter(d => d.schools.length > 0);
      return {...r, districts};
    })
    .filter(r => r.districts.length > 0);

  // Render filtered
  contentArea.innerHTML = '';
  if(filtered.length === 0){
    contentArea.innerHTML = `<div style="color:var(--muted)">No results found.</div>`;
    return;
  }

  filtered.forEach(r => {
    const regionTitle = document.createElement('h2');
    regionTitle.style.color = 'var(--gold)';
    regionTitle.style.marginTop = '0';
    regionTitle.textContent = r.region;
    contentArea.appendChild(regionTitle);

    r.districts.forEach(d => {
      const dEl = document.createElement('div');
      dEl.className = 'district';
      dEl.innerHTML = `<h3>📍 ${d.district}</h3>`;
      const grid = document.createElement('div');
      grid.className = 'schools-grid';

      d.schools.forEach(s => {
        const sEl = document.createElement('div');
        sEl.className = 'school';
        sEl.innerHTML = `<h4>${s.name} <small style="color:var(--muted)">(${s.level})</small></h4>`;
        const secRow = document.createElement('div');
        secRow.className = 'section-row';
        const section = document.createElement('div');
        section.className = 'section';
        section.innerHTML = `<small>Teachers</small>`;

        s.teachers.forEach(t => {
          const tEl = document.createElement('div');
          tEl.className = 'teacher';
          tEl.innerHTML = `
            <div class="avatar-wrap"><img class="avatar" src="${t.photo}" alt="${t.initials}" onerror="this.style.display='none'; this.parentNode.innerHTML='<div class=\\'initials\\'>${t.initials}</div>'" /></div>
            <div class="tinfo">
              <b>${t.name}</b>
              <div class="tmeta">${t.gender} • ${t.shift} shift • ${t.experience} yrs</div>
              <div class="tmeta">TIN: ${t.tin} • ID: ${t.idNo}</div>
            </div>
          `;
          section.appendChild(tEl);
        });

        secRow.appendChild(section);
        sEl.appendChild(secRow);
        grid.appendChild(sEl);
      });

      dEl.appendChild(grid);
      contentArea.appendChild(dEl);
    });
  });
}

// populate district dropdown when region changes
regionFilter.addEventListener('change', () => {
  const val = regionFilter.value;
  districtFilter.innerHTML = '<option value="">All Districts</option>';
  schoolFilter.innerHTML = '<option value="">All Schools</option>';
  if(!val){
    filterAndRender(); return;
  }
  const regionObj = fullData.find(r => r.region === val);
  if(regionObj){
    regionObj.districts.forEach(d => {
      const o = document.createElement('option');
      o.value = d.district;
      o.textContent = d.district;
      districtFilter.appendChild(o);
    });
  }
  filterAndRender();
});

// when district changes, populate schools
districtFilter.addEventListener('change', () => {
  const regionVal = regionFilter.value;
  const districtVal = districtFilter.value;
  schoolFilter.innerHTML = '<option value="">All Schools</option>';
  if(regionVal && districtVal){
    const regionObj = fullData.find(r => r.region === regionVal);
    if(regionObj){
      const districtObj = regionObj.districts.find(d => d.district === districtVal);
      if(districtObj){
        districtObj.schools.forEach(s => {
          const o = document.createElement('option');
          o.value = s.name;
          o.textContent = s.name;
          schoolFilter.appendChild(o);
        });
      }
    }
  }
  filterAndRender();
});

schoolFilter.addEventListener('change', filterAndRender);
searchInput.addEventListener('input', () => {
  // small debounce
  clearTimeout(window._searchTimer);
  window._searchTimer = setTimeout(filterAndRender, 180);
});

clearBtn.addEventListener('click', () => {
  searchInput.value = '';
  regionFilter.value = '';
  districtFilter.innerHTML = '<option value="">All Districts</option>';
  schoolFilter.innerHTML = '<option value="">All Schools</option>';
  // reset selection highlight
  [...regionListEl.children].forEach(c => c.classList.remove('active'));
  // render full home view (first region)
  selectRegion(0);
});

// initial load: select first region
selectRegion(0);

// ensure regionFilter options ready (first region already populated)
filterAndRender();
</script>
</body>
</html>